<div class="bg-green-100 p-6 rounded-lg shadow-md w-full mx-auto flex items-center justify-between fixed top-0 left-0 right-0">
  <div class="w-1/5">
    <%= image_tag "milmil.png", alt: "milmil" %>
  </div>

  <div class="flex items-center gap-6 pr-6">
    <input type="hidden" id="current-user-id" value="<%= @user['id'] %>">
    <p class="text-white">ようこそ <%= @user["nickname"] %>さん</p>
    <%= link_to "新しいクイズを作成する", new_quiz_path, class: "px-6 py-2 bg-[#3DB8A4] text-white rounded-lg shadow-md hover:bg-[#2a8d7b]" %>
    <% if @user %>
      <p class="text-xl font-bold text-[#3DB8A4]">現在の得点: <span id="current-score"><%= @current_score %></span></p>
    <% else %>
      <p class="text-red-500 font-semibold">ユーザーがログインしていません。</p>
    <% end %>
  </div>

</div>

<h1 class="pt-12"></h1>
<h1 class="font-bold text-2xl text-center pt-24 text-[#3DB8A4] pb-3">みんなのクイズ一覧</h1>

<div class="flex flex-wrap justify-center gap-4 max-w-6xl mx-auto">
  <% @quizzes.each do |quiz| %>
    <div class="w-1/3 bg-white shadow-lg rounded-lg overflow-hidden p-4">
      <%= link_to overview_quiz_path(quiz) do %>
        <% if quiz.image.attached? %>
          <%= image_tag quiz.image, alt: "milmil", class: "w-full h-40 object-cover rounded-md" %>
        <% else %>
          <%= image_tag 'quiz02.png', alt: 'default image', class: 'w-full h-40 object-cover rounded-md' %>
        <% end %>
        <p class="text-lg font-semibold mt-2 text-gray-800"><%= quiz.title %></p>
        <p class="text-[#3DB8A4] mt-2">作成者: <%= quiz.user.name %></p>
        <div class="mt-3">
          <p class="text-sm text-gray-600">タグ:</p>
          <div class="flex flex-wrap gap-2">
            <% quiz.tags.each do |tag| %>
              <span class="inline-block bg-green-100 rounded-full px-3 py-1 text-sm font-semibold text-white">
                #<%= tag.tag %>
              </span>
            <% end %>
          </div>
        </div>
      <% end %>
    </div>
  <% end %>
</div>

<div class="flex justify-center mt-6">
  <%= button_to 'Logout', 'auth/logout', method: :get, data: { turbo: false }, class: "px-4 py-2 bg-red-500 text-white rounded-lg shadow-md hover:bg-red-600" %>
</div>
